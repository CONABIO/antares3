

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sentinel 2 based Land cover example &mdash; antares3 0.3.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Land cover and land cover change: API example" href="example_api.html" />
    <link rel="prev" title="madmex.util.db.get_validation_scheme_name" href="generated/madmex.util.db.get_validation_scheme_name.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> antares3
          

          
          </a>

          
            
            
              <div class="version">
                0.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Downloading data</a></li>
<li class="toctree-l1"><a class="reference internal" href="ingest.html">Ingesting data</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="extend.html">Extending the system</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Sentinel 2 based Land cover example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#datasets-preparation">Datasets preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ingestion-of-training-data">Ingestion of training data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-sentinel-2-l1c-data">Download Sentinel 2 L1C data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#process-sentinel-2-data-to-l2a-level">Process Sentinel 2 data to L2A level</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-the-srtm-dem">Download the SRTM DEM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prepare-terrain-metrics">Prepare terrain metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ingest-terrain-metrics">Ingest terrain metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ingest-sentinel-2-bottom-of-atmosphere-data-into-the-datacube">Ingest Sentinel 2 bottom of atmosphere data into the datacube</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#generate-intermediary-product">Generate intermediary product</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-spatial-segmentation">Run spatial segmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#train-the-a-model">Train the a model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#predict-land-cover-class">Predict land cover class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#export-and-visualize-the-result">Export and visualize the result</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example_api.html">Land cover and land cover change: API example</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">antares3</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Sentinel 2 based Land cover example</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/example_s2_land_cover.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sentinel-2-based-land-cover-example">
<h1>Sentinel 2 based Land cover example<a class="headerlink" href="#sentinel-2-based-land-cover-example" title="Permalink to this headline">¶</a></h1>
<p>The following example details the step to produce a Land cover map of the state of Jalisco based on Sentinel 2 data at 20 meters resolution.</p>
<div class="section" id="datasets-preparation">
<h2>Datasets preparation<a class="headerlink" href="#datasets-preparation" title="Permalink to this headline">¶</a></h2>
<p>The process of creating a land cover map requires several input that have to be prepared prior to starting the process. These include:</p>
<blockquote>
<div><ul class="simple">
<li>Training data in vector format</li>
<li>Full state coverage of a complete year of sentinel 2 data processed to L2A level (bottom of atmosphere refectance)</li>
<li>Full state coverage of the SRTM digital elevation model with terrain metrics computed.</li>
</ul>
</div></blockquote>
<div class="section" id="ingestion-of-training-data">
<h3>Ingestion of training data<a class="headerlink" href="#ingestion-of-training-data" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
<p>Note that contrary to the present example, training data do <em>not</em> need to be a complete coverage of the area to classify.</p>
</div>
<div class="section" id="download-sentinel-2-l1c-data">
<h3>Download Sentinel 2 L1C data<a class="headerlink" href="#download-sentinel-2-l1c-data" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
<div class="section" id="process-sentinel-2-data-to-l2a-level">
<h3>Process Sentinel 2 data to L2A level<a class="headerlink" href="#process-sentinel-2-data-to-l2a-level" title="Permalink to this headline">¶</a></h3>
<p>Note that this was done externally using <a class="reference external" href="https://github.com/lvhengani/sen2cor_docker">this docker image</a> for <code class="docutils literal notranslate"><span class="pre">antares</span></code> does not have a pre-processing module at the moment, however we plan to provide functionalities directly integrated into <code class="docutils literal notranslate"><span class="pre">antares</span></code> in the future to perform this type of operations. Also note that ESA is planning to process the data themselves to level 2A, so that this step will not longer be required in the future.</p>
</div>
<div class="section" id="download-the-srtm-dem">
<h3>Download the SRTM DEM<a class="headerlink" href="#download-the-srtm-dem" title="Permalink to this headline">¶</a></h3>
<p>The product can be downloaded manually from <a class="reference external" href="http://dwtkns.com/srtm/">here</a>.</p>
</div>
<div class="section" id="prepare-terrain-metrics">
<h3>Prepare terrain metrics<a class="headerlink" href="#prepare-terrain-metrics" title="Permalink to this headline">¶</a></h3>
<p>Before ingesting the elevation data in the datacube, terrain metrics have to be computed. That step is done outside of <code class="docutils literal notranslate"><span class="pre">antares</span></code>, using gdal’s terrain utilities.</p>
<p>The following lines, ran directly on the compressed SRTM tiles, enable creation of an elevation mosaic and derive slope and aspect from it.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">file_list</span><span class="o">=</span><span class="k">$(</span>ls *zip<span class="p">|</span>sed -n <span class="s1">&#39;s/\(.*\).zip/\/vsizip\/\1.zip\/\1.tif/g;p&#39;</span><span class="p">|</span>tr -s <span class="s1">&#39;\n&#39;</span> <span class="s1">&#39; &#39;</span><span class="k">)</span>
gdal_merge.py -o srtm_mosaic.tif <span class="nv">$file_list</span>
gdaldem slope srtm_mosaic.tif slope_mosaic.tif -s <span class="m">111120</span>
gdaldem aspect srtm_mosaic.tif aspect_mosaic.tif
</pre></div>
</div>
</div>
<div class="section" id="ingest-terrain-metrics">
<h3>Ingest terrain metrics<a class="headerlink" href="#ingest-terrain-metrics" title="Permalink to this headline">¶</a></h3>
<p>The process described below consists in ingesting previously generated terrain metrics (elevation, slope, aspect) in the datacube. The process can be divided in two step; first the data are indexed, meaning that a reference to the original <code class="docutils literal notranslate"><span class="pre">GeoTiff</span></code> files is registered in the datacube database, and second the data are ingested, meaning that the data are resampled to a user defined regular grid, and written to datacube storage units (netcdf or s3 depending on the type of deployment you chose).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create product from a product description configuration files</span>
datacube -v product add ~/.config/madmex/indexing/srtm_cgiar.yaml
<span class="c1"># Index mosaic</span>
antares prepare_metadata --path /path/to/dir/containing/srtm_terrain_metrics --dataset_name srtm_cgiar --outfile ~/metadata_srtm.yaml
datacube -v dataset add ~/metadata_srtm.yaml
datacube ingest -c ~/.config/madmex/ingestion/srtm_cgiar_mexico.yaml --executor multiproc <span class="m">10</span>
</pre></div>
</div>
<p>The two products (indexed and ingested) should now be present in the datacube product list.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>datacube product list
</pre></div>
</div>
</div>
<div class="section" id="ingest-sentinel-2-bottom-of-atmosphere-data-into-the-datacube">
<h3>Ingest Sentinel 2 bottom of atmosphere data into the datacube<a class="headerlink" href="#ingest-sentinel-2-bottom-of-atmosphere-data-into-the-datacube" title="Permalink to this headline">¶</a></h3>
<p>Similarly to the digital elevation model, sentinel 2 data have to be indexed in the datacube database and ingested into a user defined regular grid. These steps are done using the following commands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create product from a product description configuration files</span>
datacube -v product add ~/.config/madmex/indexing/s2_l2a_20m_granule.yaml
<span class="c1"># Index the granules</span>
antares prepare_metadata --path /path/to/s2/L2A/data --dataset_name s2_l2a_20m --outfile ~/metadata_s2.yaml
datacube -v dataset add ~/metadata_s2.yaml
datacube ingest -c ~/.config/madmex/ingestion/s2_l2a_20m_mexico.yaml --executor multiproc <span class="m">10</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="generate-intermediary-product">
<h2>Generate intermediary product<a class="headerlink" href="#generate-intermediary-product" title="Permalink to this headline">¶</a></h2>
<p>An intermediary product is a product that contains carefully selected and computed features later used to build a land cover prediction model. Intermediary products are built by applying a recipe to an ingested product over a user defined time range. The recipe we are using in the present example is called <code class="docutils literal notranslate"><span class="pre">s2_20m_001</span></code>. It computes over a given time range the temporal mean of each sentinel 2 spectral band, the temporal mean, max and min of NDVI and NDMI, and combine these features with the terrain metrics available. The intermediary product generated by applying this recipe therefore contain the following features: <code class="docutils literal notranslate"><span class="pre">blue_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">green_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">red_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">re1_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">re2_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">re3_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">nir_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">swir1_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">swir2_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">ndvi_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">ndmi_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">ndvi_min</span></code>, <code class="docutils literal notranslate"><span class="pre">ndmi_min</span></code>, <code class="docutils literal notranslate"><span class="pre">ndvi_max</span></code>, <code class="docutils literal notranslate"><span class="pre">ndmi_max</span></code>, <code class="docutils literal notranslate"><span class="pre">elevation</span></code>, <code class="docutils literal notranslate"><span class="pre">slope</span></code> and <code class="docutils literal notranslate"><span class="pre">aspect</span></code>.</p>
<p>To generate the intermediary product from the recipe, run the command below. It will be registered in the datacube list of products under the name <code class="docutils literal notranslate"><span class="pre">s2_001_jalisco_2017_0</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>antares apply_recipe -recipe s2_20m_001 -b <span class="m">2017</span>-01-01 -e <span class="m">2017</span>-12-31 -region Jalisco <span class="se">\</span>
    --name s2_001_jalisco_2017_0
</pre></div>
</div>
<p>The intermediary product generated will be used in all subsequent stages of the map generation.</p>
</div>
<div class="section" id="run-spatial-segmentation">
<h2>Run spatial segmentation<a class="headerlink" href="#run-spatial-segmentation" title="Permalink to this headline">¶</a></h2>
<p>The final map is composed of spatial objects, also called segments. A spatial segmentation step is therefore required.
<code class="docutils literal notranslate"><span class="pre">antares</span></code> implements various segmentation algorithms that can all be operated from the <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">segment</span></code> command line. To get a list of implemented algorithms, run the <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">segment_params</span></code> command line.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/home/madmex_user/.virtualenvs/antares-doc/lib/python3.5/site-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release 2.8; in order to keep installing from binary please use &quot;pip install psycopg2-binary&quot; instead. For details see: &lt;http://initd.org/psycopg/docs/install.html#binary-install-from-pypi&gt;.
  &quot;&quot;&quot;)
Command line arguments: {&#39;no_color&#39;: False, &#39;settings&#39;: None, &#39;verbosity&#39;: 1, &#39;traceback&#39;: False, &#39;pythonpath&#39;: None, &#39;segmentation&#39;: None}
Command execution is done in 0.9782810211181641 seconds.
Algorithm description                                                                
--------  ---------------                                                            
bis       Antares implementation of Berkeley Image segmentation algorithm            
slic      Antares implementation of scikit-image&#39;s SLIC segmentation algorithm
</pre></div>
</div>
<p>We will use the Berkeley Image Segmentation (bis) for the present example. Each algorithm has different parameters, that can be inspected using the <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">segment_params</span> <span class="pre">'algorithm'</span></code> command line.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/home/madmex_user/.virtualenvs/antares-doc/lib/python3.5/site-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release 2.8; in order to keep installing from binary please use &quot;pip install psycopg2-binary&quot; instead. For details see: &lt;http://initd.org/psycopg/docs/install.html#binary-install-from-pypi&gt;.
  &quot;&quot;&quot;)
Command line arguments: {&#39;pythonpath&#39;: None, &#39;segmentation&#39;: &#39;bis&#39;, &#39;verbosity&#39;: 1, &#39;settings&#39;: None, &#39;no_color&#39;: False, &#39;traceback&#39;: False}
Command execution is done in 0.9533536434173584 seconds.
                 Argument | Default value            
       ================== | ==============           
                        t | 12                       
                        s | 0.3                      
                        c | 0.8
</pre></div>
</div>
<p>Experimenting with the data, we found <code class="docutils literal notranslate"><span class="pre">t=40</span></code>, <code class="docutils literal notranslate"><span class="pre">s=0.5</span></code> and <code class="docutils literal notranslate"><span class="pre">c=0.7</span></code> to be an appropriate set of segmentation parameters for this dataset. We can therefore start the segmentation using the following command. Also the command line allow to select a subset of layers to run the segmentation. In this case we choose to use <code class="docutils literal notranslate"><span class="pre">green_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">red_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">nir_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">swir1_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">swir2_mean</span></code>, <code class="docutils literal notranslate"><span class="pre">ndvi_mean</span></code> and <code class="docutils literal notranslate"><span class="pre">ndmi_mean</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>antares segment --algorithm bis -n s2_001_jalisco_2017 -p s2_001_jalisco_2017_0 -r Jalisco <span class="se">\</span>
    -b green_mean red_mean nir_mean swir1_mean swir2_mean ndvi_mean ndmi_mean <span class="se">\</span>
    --datasource sentinel_2 --year <span class="m">2017</span> -extra <span class="nv">t</span><span class="o">=</span><span class="m">40</span> <span class="nv">s</span><span class="o">=</span><span class="m">0</span>.5 <span class="nv">c</span><span class="o">=</span><span class="m">0</span>.7
</pre></div>
</div>
<p>At the end of the process (about 1 hour using 20 parallel processes), you should see the following message informing you of the amount of tiles processed.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Successfully ran segmentation on 19 tiles</span>
<span class="go">0 tiles failed</span>
</pre></div>
</div>
<p>The resulting segmentation should now appear in the list of segmentation returned by the <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">list</span> <span class="pre">segmentations</span></code> command line.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>antares list segmentations
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">name                                              algorithm</span>
<span class="go">---------------------                             ---------------------</span>
<span class="go">s2_001_jalisco_2017                               bis</span>
<span class="go">landsat_bis_test_2017                             bis</span>
<span class="go">landsat_slic_test_2017                            slic</span>
</pre></div>
</div>
</div>
<div class="section" id="train-the-a-model">
<h2>Train the a model<a class="headerlink" href="#train-the-a-model" title="Permalink to this headline">¶</a></h2>
<p>Training a model consists in defining the signature of each land cover class so that it can be recognized and the class be assigned properly in the prediction step. For that, training polygons ingested at the beginning of this example are overlayed with the intermediary product and overlapping areas are extracted, spatially averaged, prepared to be used as training samples and fed to a model (training samples are combined across tiles, so that a single model is trained for the entire area). Once the model has been trained, it is saved on disk and indexed in the <code class="docutils literal notranslate"><span class="pre">antares</span></code> database.</p>
<p>Similarly to segmentation algorithms, <code class="docutils literal notranslate"><span class="pre">antares</span></code> offers an interface to various prediction models. To get a list of the models implemented, one can run <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">model_params</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/home/madmex_user/.virtualenvs/antares-doc/lib/python3.5/site-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release 2.8; in order to keep installing from binary please use &quot;pip install psycopg2-binary&quot; instead. For details see: &lt;http://initd.org/psycopg/docs/install.html#binary-install-from-pypi&gt;.
  &quot;&quot;&quot;)
Command line arguments: {&#39;settings&#39;: None, &#39;no_color&#39;: False, &#39;verbosity&#39;: 1, &#39;traceback&#39;: False, &#39;model&#39;: None, &#39;pythonpath&#39;: None}
Command execution is done in 0.7599122524261475 seconds.
Model     description                                                                
--------  ---------------                                                            
lgb       Antares implementation of Microsoft&#39;s Light Boost classifier               
rf        Antares implementation of scikit learn random forest classifier            
xgb       Antares implementation of Gradient Boost classifier
</pre></div>
</div>
<p>The following example uses the random forest decision tree model, which parameters can be consulted using <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">model_params</span> <span class="pre">rf</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/home/madmex_user/.virtualenvs/antares-doc/lib/python3.5/site-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release 2.8; in order to keep installing from binary please use &quot;pip install psycopg2-binary&quot; instead. For details see: &lt;http://initd.org/psycopg/docs/install.html#binary-install-from-pypi&gt;.
  &quot;&quot;&quot;)
Command line arguments: {&#39;no_color&#39;: False, &#39;model&#39;: &#39;rf&#39;, &#39;settings&#39;: None, &#39;traceback&#39;: False, &#39;pythonpath&#39;: None, &#39;verbosity&#39;: 1}
Command execution is done in 0.7925288677215576 seconds.
                 Argument | Default value            
       ================== | ==============           
             n_estimators | 50                       
                   n_jobs | -1                       
                max_depth | 10
</pre></div>
</div>
<p>Without much justification, we will build a model composed of 100 trees with a maximum depth of 20. Note that by default 20 percents of the training polygons is selected for training, this value can be adjusted using the <code class="docutils literal notranslate"><span class="pre">-sample</span></code> command line argument.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>antares model_fit -model rf -p s2_001_jalisco_2017_0 -t jalisco_chips --region Jalisco <span class="se">\</span>
    --name rf_s2_001_jalisco_2017 -sp mean -extra <span class="nv">n_estimators</span><span class="o">=</span><span class="m">100</span> <span class="nv">max_depth</span><span class="o">=</span><span class="m">20</span>
</pre></div>
</div>
<p>Once the command complete, there must be a new prediction model registered in the database. The list of registered models can be consulted using the <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">list</span> <span class="pre">models</span></code>.</p>
</div>
<div class="section" id="predict-land-cover-class">
<h2>Predict land cover class<a class="headerlink" href="#predict-land-cover-class" title="Permalink to this headline">¶</a></h2>
<p>The prediction step uses the previously trained model to predict the land cover class of each polygon generated by the segmentation step. That step is operated with the <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">model_predict_object</span></code> command line.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>antares model_predict_object -p s2_001_jalisco_2017_0 -m rf_s2_001_jalisco_2017 <span class="se">\</span>
    -s s2_001_jalisco_2017 -r Jalisco --name s2_001_jalisco_2017_bis_rf_0
</pre></div>
</div>
<p>Note that the same model can be used to predict land cover class over several time ranges.</p>
</div>
<div class="section" id="export-and-visualize-the-result">
<h2>Export and visualize the result<a class="headerlink" href="#export-and-visualize-the-result" title="Permalink to this headline">¶</a></h2>
<p>If you do not have a web-service to directly visualize the results of the classification from the database, you can export them to a vector file using the <code class="docutils literal notranslate"><span class="pre">antares</span> <span class="pre">db_to_vector</span></code> command line and visualize them in your favorite GIS software.</p>
<a class="reference internal image-reference" href="_images/map_jalisco.jpeg"><img alt="_images/map_jalisco.jpeg" class="align-center" src="_images/map_jalisco.jpeg" style="width: 200px; height: 200px;" /></a>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="example_api.html" class="btn btn-neutral float-right" title="Land cover and land cover change: API example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="generated/madmex.util.db.get_validation_scheme_name.html" class="btn btn-neutral" title="madmex.util.db.get_validation_scheme_name" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, CONABIO.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3.0',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>